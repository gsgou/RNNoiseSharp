LOCAL_PATH := $(call my-dir)

LOCAL_SHORT_COMMANDS := true

include $(LOCAL_PATH)/Makefile.srcs

include $(CLEAR_VARS)
LOCAL_MODULE := rnnoise
LOCAL_C_INCLUDES += $(LOCAL_PATH)/../../Source
LOCAL_C_INCLUDES += $(LOCAL_PATH)/../../Include
LOCAL_ARM_MODE := arm

LOCAL_SRC_FILES += $(SRCS)
LOCAL_LDLIBS := -llog
LOCAL_CFLAGS += -O3 -DCOMPILE_OPUS -D_CRT_SECURE_NO_WARNINGS -DRNNOISE_BUILD -DDLL_EXPORT
LOCAL_CPPFLAGS += -O3

# build
include $(BUILD_SHARED_LIBRARY)